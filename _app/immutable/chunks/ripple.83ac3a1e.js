function d(){return(navigator.maxTouchPoints??0)>0}function L(e,r,t,l,m=1){const y=t-e,o=l-r,u=Math.max(y,t-y),v=Math.max(o,l-o),f=Math.sqrt(u*u+v*v)*2;return{size:f*m,left:e-f*m/2,top:r-f*m/2}}function g(e,r){const t={...typeof r=="boolean"?{}:r};return t.opacity?e.style.setProperty("--md-sys-ripple-opacity",String(Math.min(1,Math.max(0,t.opacity)))):e.style.removeProperty("--md-sys-ripple-opacity"),t.color?e.style.setProperty("--md-sys-ripple-color",t.color):e.style.removeProperty("--md-sys-ripple-color"),t.duration?e.style.setProperty("--md-sys-ripple-duration",`${t.duration}ms`):e.style.removeProperty("--md-sys-ripple-duration"),t.easing&&e.style.setProperty("--md-sys-ripple-easing",t.easing),t}function P(e,r=null){let t={...r===!0||r===null?{}:r},l;r!==!1&&m();function m(){l=document.createElement("span"),l.classList.add("md-ripple"),e.appendChild(l),d()?(e.addEventListener("touchstart",h),e.addEventListener("touchend",u),e.addEventListener("touchmove",v)):(e.addEventListener("mousedown",f),e.addEventListener("mouseup",u),e.addEventListener("mouseleave",u)),g(e,r)}function y(){l==null||l.remove(),e==null||e.removeEventListener("mousedown",f),e==null||e.removeEventListener("mouseup",u),e==null||e.removeEventListener("mouseleave",u),e==null||e.removeEventListener("touchstart",h),e==null||e.removeEventListener("touchend",u),e==null||e.removeEventListener("touchmove",v)}function o(s,n,p,c){let i;t.centered?i=L(p/2,c/2,p,c,t.blur?1.5:1):i=L(s,n,p,c,t.blur?1.5:1);const a=document.createElement("span");a.classList.add("md-ripple-circle"),a.classList.toggle("md-ripple-circle-blur",t.blur??!1),a.style.top=`${i.top}px`,a.style.left=`${i.left}px`;const E=(t.blur,i.size);a.style.height=`${E}px`,a.style.width=`${E}px`,l.appendChild(a)}function u(){l.querySelectorAll(".md-ripple-circle").forEach(s=>{s.classList.add("out"),s.addEventListener("transitionend",()=>s.remove(),{once:!0})})}function v(s){const n=s.touches[0];s.target instanceof Element&&e!==document.elementFromPoint(n.pageX,n.pageY)&&u()}function f(s){const{x:n,y:p,width:c,height:i}=l.getBoundingClientRect();t.centered?o(c/2,i/2,c,i):o(s.clientX-n,s.clientY-p,c,i)}function h(s){const{x:n,y:p,width:c,height:i}=l.getBoundingClientRect(),a=s.touches[0];t.centered?o(c/2,i/2,c,i):o(a.clientX-n,a.clientY-p,c,i)}return{update:(s=!0)=>{r!==!1&&s===!1?y():r===!1&&s!==!1&&m(),r=s,t=g(e,r)},destroy(){y()}}}export{P as r};
